@model IEnumerable<Order>

<h2 class="mb-3">ğŸ“¦ Danh sÃ¡ch Ä‘Æ¡n hÃ ng</h2>

<table class="table table-bordered table-hover align-middle">
    <thead class="table-light">
        <tr>
            <th class="text-center">ID</th>
            <th>NgÆ°á»i Ä‘áº·t</th>
            <th class="text-end">Tá»•ng tiá»n</th>
            <th class="text-center">Tráº¡ng thÃ¡i</th>
            <th class="text-center" style="width:200px">HÃ nh Ä‘á»™ng</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var order in Model)
        {
            <tr>
                <td class="text-center fw-bold">#@order.Id</td>
                <td>@order.UserId</td>
                <td class="text-end">@order.Total.ToString("N0") Ä‘</td>

                <td class="text-center">
                    @switch(order.Status)
                    {
                        case OrderStatus.Pending:
                            <span class="badge bg-warning text-dark">â³ Chá» duyá»‡t</span>
                            break;
                        case OrderStatus.Approved:
                            <span class="badge bg-success">âœ” ÄÃ£ duyá»‡t</span>
                            break;
                        case OrderStatus.Rejected:
                            <span class="badge bg-danger">âŒ Tá»« chá»‘i</span>
                            break;
                    }
                </td>

                <td class="text-center">

                    @if(order.Status == OrderStatus.Pending)
                    {
                        <!-- DUYá»†T -->
                        <form asp-area="Admin"
                              asp-controller="AdminOrders"
                              asp-action="Approve"
                              asp-route-id="@order.Id"
                              method="post"
                              class="d-inline">
                            <button class="btn btn-success btn-sm me-1">âœ” Duyá»‡t</button>
                        </form>

                        <!-- Tá»ª CHá»I -->
                        <form asp-area="Admin"
                              asp-controller="AdminOrders"
                              asp-action="Reject"
                              asp-route-id="@order.Id"
                              method="post"
                              class="d-inline"
                              onsubmit="return confirm('Báº¡n cÃ³ cháº¯c muá»‘n tá»« chá»‘i Ä‘Æ¡n nÃ y khÃ´ng?');">
                            <button class="btn btn-danger btn-sm">âŒ Tá»« chá»‘i</button>
                        </form>
                    }
                    else
                    {
                        <span class="text-muted fst-italic">KhÃ´ng kháº£ dá»¥ng</span>
                    }

                </td>
            </tr>
        }
    </tbody>
</table>

@if (!Model.Any())
{
    <div class="alert alert-warning mt-3">
        ğŸš« Hiá»‡n chÆ°a cÃ³ Ä‘Æ¡n hÃ ng nÃ o.
    </div>
}

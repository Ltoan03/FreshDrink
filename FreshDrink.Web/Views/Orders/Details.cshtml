@model FreshDrink.Web.ViewModels.OrderDetailVm

<div class="card shadow-sm p-4">
    
    <h4 class="mb-3">
        <i class="bi bi-receipt"></i> Chi tiết đơn hàng <span class="text-primary">#@Model.Id</span>
    </h4>

    <p>
        <i class="bi bi-calendar-event"></i> 
        Ngày đặt: <strong>@Model.CreatedAt.ToString("dd/MM/yyyy HH:mm")</strong>
    </p>

    <p>
        <i class="bi bi-info-circle"></i> Trạng thái: 
        @switch (Model.Status)
        {
            case "Pending":
                <span class="badge bg-warning text-dark">Đang chờ xử lý</span>
                break;

            case "Approved":
                <span class="badge bg-success">Đã duyệt</span>
                break;

            case "Rejected":
                <span class="badge bg-danger">Đã từ chối</span>
                break;

            default:
                <span class="badge bg-secondary">@Model.Status</span>
                break;
        }
    </p>

    <hr />

    <table class="table table-bordered table-hover align-middle">
        <thead class="table-light">
            <tr>
                <th>Sản phẩm</th>
                <th class="text-center">SL</th>
                <th class="text-end">Đơn giá</th>
                <th class="text-end">Thành tiền</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Items)
            {
                <tr>
                    <td>@item.Name</td>
                    <td class="text-center">@item.Quantity</td>
                    <td class="text-end">@item.UnitPrice.ToString("N0") đ</td>
                    <td class="text-end fw-semibold">@item.LineTotal.ToString("N0") đ</td>
                </tr>
            }
        </tbody>
    </table>

    <div class="text-end fs-5 fw-bold">
        <i class="bi bi-cash"></i> Tổng cộng: <span class="text-danger">@Model.Total.ToString("N0") đ</span>
    </div>

    <div class="mt-4">
        <a asp-controller="Orders" asp-action="MyOrders" class="btn btn-outline-secondary">
            <i class="bi bi-arrow-left"></i> Quay lại danh sách
        </a>
    </div>

</div>
